<?xml version="1.0"?>
<!DOCTYPE overlay SYSTEM "chrome://scriptish/locale/scriptish.dtd">
<?xml-stylesheet href="chrome://scriptish/skin/browser.css" type="text/css"?>

<overlay id="scriptish-browser-overlay"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <script type="application/x-javascript" src="chrome://scriptish/content/browser.js" />


  <!-- TOOLS MENU -->
  <menupopup id="menu_ToolsPopup">
    <menu id="scriptish_general_menu" insertbefore="javascriptConsole" />
  </menupopup>
  <menu id="scriptish_general_menu"
    class="menu-iconic"
    image="chrome://scriptish/skin/icon_small.png"
    accesskey="&menu.title.accesskey;"
    label="&menu.title;"
  >
    <menupopup
      onpopupshowing="Scriptish_showGeneralPopup(event); event.stopPropagation();"
    >
      <menuitem id="scriptish-general-menu-enabled-item"
        accesskey="&statusbar.enabled.accesskey;"
        label="&statusbar.enabled;"
        type="checkbox"
        oncommand="Scriptish_BrowserUIM.onToggleStatus()" />
      <menuseparator />
      <menuitem id="userscript-tools-install"
        accesskey="&menu.install.accesskey;"
        label="&menu.install;"
        hidden="true"
        oncommand="Scriptish_BrowserUI.installMenuItemClicked(event);" />
      <menuitem
        accesskey="&menu.manage.accesskey;"
        label="&menu.manage;"
        oncommand="Scriptish_BrowserUIM.showUserscriptList();" />
      <menuitem id="userscript-tools-new"
        accesskey="&menu.new.accesskey;"
        label="&menu.new;"
        oncommand="Scriptish_BrowserUIM.newUserScript()" />
      <menu id="userscript-commands-sb2"
        accesskey="&menu.commands.accesskey;"
        label="&menu.commands;"
        disabled="false"
        onpopupshowing="event.stopPropagation();"
      >
        <menupopup />
      </menu>
    </menupopup>
  </menu>


  <!-- CONTEXT MENU -->
  <popup id="contentAreaContextMenu">
    <menuitem id="scriptish-context-menu-viewsource"
      accesskey="&menu.show.accesskey;"
      label="&menu.show;"
      class="menuitem-iconic"
      image="chrome://scriptish/skin/icon_small.png"
      insertbefore="context-openlink"/>
    <menuseparator id="scriptish-context-menu-viewsource-sep" insertbefore="context-openlink"/>
  </popup>


  <!-- STATUS BAR -->
  <statusbar id="status-bar">
    <!-- NOTE: Local to statusbar tag scope -->
    <stringbundle id="scriptish-browser-bundle" src="chrome://scriptish/locale/scriptish-browser.properties" />

    <statusbarpanel id="scriptish-status" context="_child">
      <image id="scriptish-status-image"/>

      <menupopup id="scriptish-status-popup">
        <menuitem id="scriptish-status-no-scripts" label="&statusbar.noscripts;"/>
        <menuseparator id="scriptish-status-no-scripts-sep"/>
        <menu id="userscript-commands-sb"
          accesskey="&menu.commands.accesskey;"
          label="&menu.commands;"
          disabled="false"
          onpopupshowing="event.stopPropagation();"
        >
          <menupopup/>
        </menu>
        <menuseparator />
        <menuitem accesskey="&menu.new.accesskey;"
          label="&menu.new;"
          oncommand="Scriptish_BrowserUIM.newUserScript()" />
        <menuitem accesskey="&menu.manage.accesskey;"
          label="&menu.manage;"
          oncommand="Scriptish_BrowserUIM.showUserscriptList();" />
        <menuseparator />
        <menuitem accesskey="&menu.options.accesskey;"
          label="&menu.options;"
          oncommand="Scriptish_BrowserUIM.openOptionsWin()" />
        <menuitem id="scriptish-status-enabled-item"
          accesskey="&statusbar.enabled.accesskey;"
          label="&statusbar.enabled;"
          type="checkbox"
          oncommand="Scriptish_BrowserUIM.onToggleStatus()" />
      </menupopup>
    </statusbarpanel>
  </statusbar>
</overlay>
